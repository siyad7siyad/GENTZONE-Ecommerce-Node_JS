<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title><%= locals.title %></title>
    <meta name="description" content="<%= locals.description %>" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css"
    />
    <link rel="stylesheet" href="/style.css" />
  </head>

  <body class="">
    
   

    <div class="container-fluid"  style="
    background-image: linear-gradient(
      to right,
      rgb(61, 57, 57),
      rgb(136, 136, 130)
    );
  ">
      <div
        class="row w-75 mx-auto py-5"
        style="height: 100vh"
      >
        <div class="col-6 h-100 bg-white d-flex  align-items-center">
          <div class="col-1">

          </div>
          <div class="col-10 ">
            <div class="text-center">
              <h3>OTP</h3>
            </div>
          
      
            <form action="/OTP" class="" method="post">
              <div>
           
          
              <div class="mb-4 ">
                <input
                  type="text"
                  class="ms-1 form-control"
              
                  name="otp"
             
                  placeholder="Enter OTP"
                />
                <div
                id="erroremail"
                class=" ms-2  text-danger"
              ></div>
              </div>
            </div>
            
              <div class="">
                <button type="submit" class="btn btn-outline-dark w-100 rounded-pill">
                  submit
                </button>
              </div>
            </form>
            <!-- <p class="mt-3">go back to login? <a href="/resendOtp">resend</a></p> -->
            <div class="text-center">
              <a class="text-decoration-none" href="/resendotp"><button type="button" class="resend-button" id="resendButton">Resend OTP</button></a>
                <div id="countdown"></div></a>
              

              <br>
              <br>
              <!-- <button type="submit" class="btn btn-primary">&nbsp;&nbsp;&nbsp;Submit&nbsp;&nbsp;&nbsp;</button> -->
          </div>
          </div>
          <div class="col-1">

          </div>
        </div>
        <div
          class="col-5  p-0 "  
          style="
          background-image: linear-gradient(
            to right,
            #515256,
            #A29B65
          );
        "
        >
          <img src="/userassets/images/Artboard 1.png" class="w-100 h-100 " alt="" />
        </div>
      </div>
    </div>
    <script>
      var countdownValue = 60;
      var countdownInterval;
    
      // Call resendOTP function when the page loads
      window.onload = function () {
        resendOTP();
      };
    
      function resendOTP() {
        console.log('Resend OTP button clicked');
        $("#resendButton").prop("disabled", true);
    
        // Start the countdown when the Resend OTP button is clicked
        countdownValue = 60;
        countdownInterval = setInterval(function() {
          countdownValue--;
    
          if (countdownValue <= 0) {
            clearInterval(countdownInterval);
            $("#resendButton").prop("disabled", false);
            $("#countdown").text('');
          } else {
            $("#countdown").text('Resend in ' + countdownValue + ' seconds');
          }
        }, 1000);
      }
    
      // Handle form submission asynchronously using AJAX
      $(document).ready(function() {
        $("form").submit(function(e) {
          e.preventDefault(); // Prevent the default form submission behavior
    
          // Perform AJAX request here
          $.ajax({
            type: $(this).attr("method"),
            url: $(this).attr("action"),
            data: $(this).serialize(),
            success: function(response) {
              // Handle the response as needed
              console.log(response);
            },
            error: function(error) {
              console.log(error);
            }
          });
        });
      });
    </script>
    
    
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
